# SMSG_ITEM_QUERY_SINGLE_RESPONSE

## Client Version 1.12

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/queries/smsg_item_query_single_response.wowm:185`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/queries/smsg_item_query_single_response.wowm#L185).
```rust,ignore
smsg SMSG_ITEM_QUERY_SINGLE_RESPONSE = 0x0058 {
    u32 item;
    optional found {
        ItemClassAndSubClass class_and_sub_class;
        CString name1;
        CString name2;
        CString name3;
        CString name4;
        u32 display_id;
        (u32)ItemQuality quality;
        ItemFlag flags;
        Gold buy_price;
        Gold sell_price;
        (u32)InventoryType inventory_type;
        AllowedClass allowed_class;
        AllowedRace allowed_race;
        Level32 item_level;
        Level32 required_level;
        (u32)Skill required_skill;
        u32 required_skill_rank;
        u32 required_spell;
        u32 required_honor_rank;
        u32 required_city_rank;
        (u32)Faction required_faction;
        u32 required_faction_rank;
        u32 max_count;
        u32 stackable;
        u32 container_slots;
        ItemStat[10] stats;
        ItemDamageType[5] damages;
        i32 armor;
        i32 holy_resistance;
        i32 fire_resistance;
        i32 nature_resistance;
        i32 frost_resistance;
        i32 shadow_resistance;
        i32 arcane_resistance;
        u32 delay;
        u32 ammo_type;
        f32 ranged_range_modification;
        ItemSpells[5] spells;
        (u32)Bonding bonding;
        CString description;
        u32 page_text;
        Language language;
        (u32)PageTextMaterial page_text_material;
        u32 start_quest;
        u32 lock_id;
        u32 material;
        (u32)SheatheType sheathe_type;
        u32 random_property;
        u32 block;
        (u32)ItemSet item_set;
        u32 max_durability;
        Area area;
        Map map;
        (u32)BagFamily bag_family;
    }
}
```
### Header

SMSG have a header of 4 bytes.

#### SMSG Header

| Offset | Size / Endianness | Type   | Name   | Description |
| ------ | ----------------- | ------ | ------ | ----------- |
| 0x00   | 2 / Big           | uint16 | size   | Size of the rest of the message including the opcode field but not including the size field.|
| 0x02   | 2 / Little        | uint16 | opcode | Opcode that determines which fields the message contains.|

### Body

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x04 | 4 / Little | u32 | item |  |  |

Optionally the following fields can be present. This can only be detected by looking at the size of the message.

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x08 | 8 / - | [ItemClassAndSubClass](itemclassandsubclass.md) | class_and_sub_class |  |  |
| 0x10 | - / - | CString | name1 |  |  |
| - | - / - | CString | name2 |  |  |
| - | - / - | CString | name3 |  |  |
| - | - / - | CString | name4 |  |  |
| - | 4 / Little | u32 | display_id |  | id from ItemDisplayInfo.dbc |
| - | 4 / - | [ItemQuality](itemquality.md) | quality |  |  |
| - | 4 / - | [ItemFlag](itemflag.md) | flags |  |  |
| - | 4 / Little | Gold | buy_price |  |  |
| - | 4 / Little | Gold | sell_price |  |  |
| - | 4 / - | [InventoryType](inventorytype.md) | inventory_type |  |  |
| - | 4 / - | [AllowedClass](allowedclass.md) | allowed_class |  |  |
| - | 4 / - | [AllowedRace](allowedrace.md) | allowed_race |  |  |
| - | 4 / Little | Level32 | item_level |  |  |
| - | 4 / Little | Level32 | required_level |  |  |
| - | 4 / - | [Skill](skill.md) | required_skill |  |  |
| - | 4 / Little | u32 | required_skill_rank |  |  |
| - | 4 / Little | u32 | required_spell |  |  |
| - | 4 / Little | u32 | required_honor_rank |  |  |
| - | 4 / Little | u32 | required_city_rank |  |  |
| - | 4 / - | [Faction](faction.md) | required_faction |  |  |
| - | 4 / Little | u32 | required_faction_rank |  | cmangos/vmangos/mangoszero: send value only if reputation faction id setted ( needed for some items) |
| - | 4 / Little | u32 | max_count |  |  |
| - | 4 / Little | u32 | stackable |  |  |
| - | 4 / Little | u32 | container_slots |  |  |
| - | 80 / - | [ItemStat](itemstat.md)[10] | stats |  |  |
| - | 60 / - | [ItemDamageType](itemdamagetype.md)[5] | damages |  |  |
| - | 4 / Little | i32 | armor |  |  |
| - | 4 / Little | i32 | holy_resistance |  |  |
| - | 4 / Little | i32 | fire_resistance |  |  |
| - | 4 / Little | i32 | nature_resistance |  |  |
| - | 4 / Little | i32 | frost_resistance |  |  |
| - | 4 / Little | i32 | shadow_resistance |  |  |
| - | 4 / Little | i32 | arcane_resistance |  |  |
| - | 4 / Little | u32 | delay |  |  |
| - | 4 / Little | u32 | ammo_type |  |  |
| - | 4 / Little | f32 | ranged_range_modification |  |  |
| - | 120 / - | [ItemSpells](itemspells.md)[5] | spells |  |  |
| - | 4 / - | [Bonding](bonding.md) | bonding |  |  |
| - | - / - | CString | description |  |  |
| - | 4 / Little | u32 | page_text |  |  |
| - | 4 / - | [Language](language.md) | language |  |  |
| - | 4 / - | [PageTextMaterial](pagetextmaterial.md) | page_text_material |  |  |
| - | 4 / Little | u32 | start_quest |  | cmangos/vmangos/mangoszero: id from QuestCache.wdb |
| - | 4 / Little | u32 | lock_id |  |  |
| - | 4 / Little | u32 | material |  | cmangos/vmangos/mangoszero: id from Material.dbc |
| - | 4 / - | [SheatheType](sheathetype.md) | sheathe_type |  |  |
| - | 4 / Little | u32 | random_property |  | cmangos/vmangos/mangoszero: id from ItemRandomProperties.dbc |
| - | 4 / Little | u32 | block |  |  |
| - | 4 / - | [ItemSet](itemset.md) | item_set |  |  |
| - | 4 / Little | u32 | max_durability |  |  |
| - | 4 / - | [Area](area.md) | area |  |  |
| - | 4 / - | [Map](map.md) | map |  |  |
| - | 4 / - | [BagFamily](bagfamily.md) | bag_family |  |  |

### Examples

#### Example 1

```c
1, 224, // size
88, 0, // opcode (88)
62, 28, 0, 0, // item: u32
// Optional found
2, 0, 0, 0, 5, 0, 0, 0, // class_and_sub_class: ItemClassAndSubClass TWO_HANDED_MACE (0x0000000500000002)
83, 109, 105, 116, 101, 39, 115, 32, 77, 105, 103, 104, 116, 121, 32, 72, 97, 109, 109, 101, 114, 0, // name1: CString
0, // name2: CString
0, // name3: CString
0, // name4: CString
154, 76, 0, 0, // display_id: u32
3, 0, 0, 0, // quality: ItemQuality RARE (3)
0, 0, 0, 0, // flags: ItemFlag  NONE (0)
155, 60, 0, 0, // buy_price: Gold
31, 12, 0, 0, // sell_price: Gold
17, 0, 0, 0, // inventory_type: InventoryType TWO_HANDED_WEAPON (17)
223, 5, 0, 0, // allowed_class: AllowedClass  WARRIOR| PALADIN| HUNTER| ROGUE| PRIEST| SHAMAN| MAGE| WARLOCK| DRUID (1503)
255, 1, 0, 0, // allowed_race: AllowedRace  HUMAN| ORC| DWARF| NIGHT_ELF| UNDEAD| TAUREN| GNOME| TROLL| GOBLIN (511)
23, 0, 0, 0, // item_level: Level32
18, 0, 0, 0, // required_level: Level32
0, 0, 0, 0, // required_skill: Skill NONE (0)
0, 0, 0, 0, // required_skill_rank: u32
0, 0, 0, 0, // required_spell: u32
0, 0, 0, 0, // required_honor_rank: u32
0, 0, 0, 0, // required_city_rank: u32
0, 0, 0, 0, // required_faction: Faction NONE (0)
0, 0, 0, 0, // required_faction_rank: u32
0, 0, 0, 0, // max_count: u32
1, 0, 0, 0, // stackable: u32
0, 0, 0, 0, // container_slots: u32
0, 0, 0, 0, // [0].ItemStat.stat_type: ItemStatType MANA (0)
0, 0, 0, 0, // [0].ItemStat.value: i32
1, 0, 0, 0, // [1].ItemStat.stat_type: ItemStatType HEALTH (1)
0, 0, 0, 0, // [1].ItemStat.value: i32
4, 0, 0, 0, // [2].ItemStat.stat_type: ItemStatType STRENGTH (4)
11, 0, 0, 0, // [2].ItemStat.value: i32
3, 0, 0, 0, // [3].ItemStat.stat_type: ItemStatType AGILITY (3)
4, 0, 0, 0, // [3].ItemStat.value: i32
7, 0, 0, 0, // [4].ItemStat.stat_type: ItemStatType STAMINA (7)
0, 0, 0, 0, // [4].ItemStat.value: i32
5, 0, 0, 0, // [5].ItemStat.stat_type: ItemStatType INTELLECT (5)
0, 0, 0, 0, // [5].ItemStat.value: i32
6, 0, 0, 0, // [6].ItemStat.stat_type: ItemStatType SPIRIT (6)
0, 0, 0, 0, // [6].ItemStat.value: i32
0, 0, 0, 0, // [7].ItemStat.stat_type: ItemStatType MANA (0)
0, 0, 0, 0, // [7].ItemStat.value: i32
0, 0, 0, 0, // [8].ItemStat.stat_type: ItemStatType MANA (0)
0, 0, 0, 0, // [8].ItemStat.value: i32
0, 0, 0, 0, // [9].ItemStat.stat_type: ItemStatType MANA (0)
0, 0, 0, 0, // [9].ItemStat.value: i32
// stats: ItemStat[10]
0, 0, 92, 66, // [0].ItemDamageType.damage_minimum: f32
0, 0, 166, 66, // [0].ItemDamageType.damage_maximum: f32
0, 0, 0, 0, // [0].ItemDamageType.school: SpellSchool NORMAL (0)
0, 0, 0, 0, // [1].ItemDamageType.damage_minimum: f32
0, 0, 0, 0, // [1].ItemDamageType.damage_maximum: f32
0, 0, 0, 0, // [1].ItemDamageType.school: SpellSchool NORMAL (0)
0, 0, 0, 0, // [2].ItemDamageType.damage_minimum: f32
0, 0, 0, 0, // [2].ItemDamageType.damage_maximum: f32
0, 0, 0, 0, // [2].ItemDamageType.school: SpellSchool NORMAL (0)
0, 0, 0, 0, // [3].ItemDamageType.damage_minimum: f32
0, 0, 0, 0, // [3].ItemDamageType.damage_maximum: f32
0, 0, 0, 0, // [3].ItemDamageType.school: SpellSchool NORMAL (0)
0, 0, 0, 0, // [4].ItemDamageType.damage_minimum: f32
0, 0, 0, 0, // [4].ItemDamageType.damage_maximum: f32
0, 0, 0, 0, // [4].ItemDamageType.school: SpellSchool NORMAL (0)
// damages: ItemDamageType[5]
0, 0, 0, 0, // armor: i32
0, 0, 0, 0, // holy_resistance: i32
0, 0, 0, 0, // fire_resistance: i32
0, 0, 0, 0, // nature_resistance: i32
0, 0, 0, 0, // frost_resistance: i32
0, 0, 0, 0, // shadow_resistance: i32
0, 0, 0, 0, // arcane_resistance: i32
172, 13, 0, 0, // delay: u32
0, 0, 0, 0, // ammo_type: u32
0, 0, 0, 0, // ranged_range_modification: f32
0, 0, 0, 0, // [0].ItemSpells.spell: u32
0, 0, 0, 0, // [0].ItemSpells.spell_trigger: SpellTriggerType ON_USE (0)
0, 0, 0, 0, // [0].ItemSpells.spell_charges: i32
0, 0, 0, 0, // [0].ItemSpells.spell_cooldown: i32
0, 0, 0, 0, // [0].ItemSpells.spell_category: u32
0, 0, 0, 0, // [0].ItemSpells.spell_category_cooldown: i32
0, 0, 0, 0, // [1].ItemSpells.spell: u32
0, 0, 0, 0, // [1].ItemSpells.spell_trigger: SpellTriggerType ON_USE (0)
0, 0, 0, 0, // [1].ItemSpells.spell_charges: i32
0, 0, 0, 0, // [1].ItemSpells.spell_cooldown: i32
0, 0, 0, 0, // [1].ItemSpells.spell_category: u32
0, 0, 0, 0, // [1].ItemSpells.spell_category_cooldown: i32
0, 0, 0, 0, // [2].ItemSpells.spell: u32
0, 0, 0, 0, // [2].ItemSpells.spell_trigger: SpellTriggerType ON_USE (0)
0, 0, 0, 0, // [2].ItemSpells.spell_charges: i32
0, 0, 0, 0, // [2].ItemSpells.spell_cooldown: i32
0, 0, 0, 0, // [2].ItemSpells.spell_category: u32
0, 0, 0, 0, // [2].ItemSpells.spell_category_cooldown: i32
0, 0, 0, 0, // [3].ItemSpells.spell: u32
0, 0, 0, 0, // [3].ItemSpells.spell_trigger: SpellTriggerType ON_USE (0)
0, 0, 0, 0, // [3].ItemSpells.spell_charges: i32
0, 0, 0, 0, // [3].ItemSpells.spell_cooldown: i32
0, 0, 0, 0, // [3].ItemSpells.spell_category: u32
0, 0, 0, 0, // [3].ItemSpells.spell_category_cooldown: i32
0, 0, 0, 0, // [4].ItemSpells.spell: u32
0, 0, 0, 0, // [4].ItemSpells.spell_trigger: SpellTriggerType ON_USE (0)
0, 0, 0, 0, // [4].ItemSpells.spell_charges: i32
0, 0, 0, 0, // [4].ItemSpells.spell_cooldown: i32
0, 0, 0, 0, // [4].ItemSpells.spell_category: u32
0, 0, 0, 0, // [4].ItemSpells.spell_category_cooldown: i32
// spells: ItemSpells[5]
1, 0, 0, 0, // bonding: Bonding PICK_UP (1)
0, // description: CString
0, 0, 0, 0, // page_text: u32
0, 0, 0, 0, // language: Language UNIVERSAL (0)
0, 0, 0, 0, // page_text_material: PageTextMaterial NONE (0)
0, 0, 0, 0, // start_quest: u32
0, 0, 0, 0, // lock_id: u32
2, 0, 0, 0, // material: u32
1, 0, 0, 0, // sheathe_type: SheatheType MAIN_HAND (1)
0, 0, 0, 0, // random_property: u32
0, 0, 0, 0, // block: u32
0, 0, 0, 0, // item_set: ItemSet NONE (0)
80, 0, 0, 0, // max_durability: u32
0, 0, 0, 0, // area: Area NONE (0)
0, 0, 0, 0, // map: Map EASTERN_KINGDOMS (0)
0, 0, 0, 0, // bag_family: BagFamily NONE (0)
```
## Client Version 2.4.3

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/queries/smsg_item_query_single_response.wowm:694`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/queries/smsg_item_query_single_response.wowm#L694).
```rust,ignore
smsg SMSG_ITEM_QUERY_SINGLE_RESPONSE = 0x0058 {
    u32 item;
    optional found {
        ItemClassAndSubClass class_and_sub_class;
        u32 sound_override_sub_class;
        CString name1;
        CString name2;
        CString name3;
        CString name4;
        u32 display_id;
        (u32)ItemQuality quality;
        ItemFlag flags;
        Gold buy_price;
        Gold sell_price;
        (u32)InventoryType inventory_type;
        AllowedClass allowed_class;
        AllowedRace allowed_race;
        u32 item_level;
        Level32 required_level;
        (u32)Skill required_skill;
        u32 required_skill_rank;
        u32 required_spell;
        u32 required_honor_rank;
        u32 required_city_rank;
        (u32)Faction required_faction;
        u32 required_faction_rank;
        u32 max_count;
        u32 stackable;
        u32 container_slots;
        ItemStat[10] stats;
        ItemDamageType[5] damages;
        i32 armor;
        i32 holy_resistance;
        i32 fire_resistance;
        i32 nature_resistance;
        i32 frost_resistance;
        i32 shadow_resistance;
        i32 arcane_resistance;
        u32 delay;
        u32 ammo_type;
        f32 ranged_range_modification;
        ItemSpells[5] spells;
        (u32)Bonding bonding;
        CString description;
        u32 page_text;
        (u32)Language language;
        (u32)PageTextMaterial page_text_material;
        u32 start_quest;
        u32 lock_id;
        u32 material;
        (u32)SheatheType sheathe_type;
        u32 random_property;
        u32 block;
        (u32)ItemSet item_set;
        u32 max_durability;
        Area area;
        Map map;
        BagFamily bag_family;
        u32 totem_category;
        ItemSocket[3] sockets;
        u32 socket_bonus;
        u32 gem_properties;
        u32 required_disenchant_skill;
        f32 armor_damage_modifier;
        Seconds duration;
    }
}
```
### Header

SMSG have a header of 4 bytes.

#### SMSG Header

| Offset | Size / Endianness | Type   | Name   | Description |
| ------ | ----------------- | ------ | ------ | ----------- |
| 0x00   | 2 / Big           | uint16 | size   | Size of the rest of the message including the opcode field but not including the size field.|
| 0x02   | 2 / Little        | uint16 | opcode | Opcode that determines which fields the message contains.|

### Body

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x04 | 4 / Little | u32 | item |  |  |

Optionally the following fields can be present. This can only be detected by looking at the size of the message.

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| 0x08 | 8 / - | [ItemClassAndSubClass](itemclassandsubclass.md) | class_and_sub_class |  |  |
| 0x10 | 4 / Little | u32 | sound_override_sub_class |  | mangosone: new 2.0.3, not exist in wdb cache?<br/>mangosone sets to -1.<br/>azerothcore: < 0: id from ItemSubClass.dbc, used to override weapon sound from actual sub class |
| 0x14 | - / - | CString | name1 |  |  |
| - | - / - | CString | name2 |  |  |
| - | - / - | CString | name3 |  |  |
| - | - / - | CString | name4 |  |  |
| - | 4 / Little | u32 | display_id |  | id from ItemDisplayInfo.dbc |
| - | 4 / - | [ItemQuality](itemquality.md) | quality |  |  |
| - | 4 / - | [ItemFlag](itemflag.md) | flags |  |  |
| - | 4 / Little | Gold | buy_price |  |  |
| - | 4 / Little | Gold | sell_price |  |  |
| - | 4 / - | [InventoryType](inventorytype.md) | inventory_type |  |  |
| - | 4 / - | [AllowedClass](allowedclass.md) | allowed_class |  |  |
| - | 4 / - | [AllowedRace](allowedrace.md) | allowed_race |  |  |
| - | 4 / Little | u32 | item_level |  |  |
| - | 4 / Little | Level32 | required_level |  |  |
| - | 4 / - | [Skill](skill.md) | required_skill |  |  |
| - | 4 / Little | u32 | required_skill_rank |  |  |
| - | 4 / Little | u32 | required_spell |  |  |
| - | 4 / Little | u32 | required_honor_rank |  |  |
| - | 4 / Little | u32 | required_city_rank |  |  |
| - | 4 / - | [Faction](faction.md) | required_faction |  |  |
| - | 4 / Little | u32 | required_faction_rank |  | cmangos/vmangos/mangoszero: send value only if reputation faction id setted ( needed for some items) |
| - | 4 / Little | u32 | max_count |  |  |
| - | 4 / Little | u32 | stackable |  |  |
| - | 4 / Little | u32 | container_slots |  |  |
| - | 80 / - | [ItemStat](itemstat.md)[10] | stats |  |  |
| - | 60 / - | [ItemDamageType](itemdamagetype.md)[5] | damages |  |  |
| - | 4 / Little | i32 | armor |  |  |
| - | 4 / Little | i32 | holy_resistance |  |  |
| - | 4 / Little | i32 | fire_resistance |  |  |
| - | 4 / Little | i32 | nature_resistance |  |  |
| - | 4 / Little | i32 | frost_resistance |  |  |
| - | 4 / Little | i32 | shadow_resistance |  |  |
| - | 4 / Little | i32 | arcane_resistance |  |  |
| - | 4 / Little | u32 | delay |  |  |
| - | 4 / Little | u32 | ammo_type |  |  |
| - | 4 / Little | f32 | ranged_range_modification |  |  |
| - | 120 / - | [ItemSpells](itemspells.md)[5] | spells |  |  |
| - | 4 / - | [Bonding](bonding.md) | bonding |  |  |
| - | - / - | CString | description |  |  |
| - | 4 / Little | u32 | page_text |  |  |
| - | 4 / - | [Language](language.md) | language |  |  |
| - | 4 / - | [PageTextMaterial](pagetextmaterial.md) | page_text_material |  |  |
| - | 4 / Little | u32 | start_quest |  | cmangos/vmangos/mangoszero: id from QuestCache.wdb |
| - | 4 / Little | u32 | lock_id |  |  |
| - | 4 / Little | u32 | material |  | cmangos/vmangos/mangoszero: id from Material.dbc |
| - | 4 / - | [SheatheType](sheathetype.md) | sheathe_type |  |  |
| - | 4 / Little | u32 | random_property |  | cmangos/vmangos/mangoszero: id from ItemRandomProperties.dbc |
| - | 4 / Little | u32 | block |  |  |
| - | 4 / - | [ItemSet](itemset.md) | item_set |  |  |
| - | 4 / Little | u32 | max_durability |  |  |
| - | 4 / - | [Area](area.md) | area |  |  |
| - | 4 / - | [Map](map.md) | map |  |  |
| - | 4 / - | [BagFamily](bagfamily.md) | bag_family |  |  |
| - | 4 / Little | u32 | totem_category |  | mangosone: id from TotemCategory.dbc |
| - | 24 / - | [ItemSocket](itemsocket.md)[3] | sockets |  |  |
| - | 4 / Little | u32 | socket_bonus |  |  |
| - | 4 / Little | u32 | gem_properties |  |  |
| - | 4 / Little | u32 | required_disenchant_skill |  |  |
| - | 4 / Little | f32 | armor_damage_modifier |  |  |
| - | 4 / Little | Seconds | duration |  | mangosone: added in 2.4.2.8209, duration (seconds) |

## Client Version 3.3.5

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/queries/smsg_item_query_single_response.wowm:906`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/queries/smsg_item_query_single_response.wowm#L906).
```rust,ignore
smsg SMSG_ITEM_QUERY_SINGLE_RESPONSE = 0x0058 {
    u32 item;
    optional found {
        ItemClassAndSubClass class_and_sub_class;
        u32 sound_override_sub_class;
        CString name1;
        CString name2;
        CString name3;
        CString name4;
        u32 display_id;
        (u32)ItemQuality quality;
        ItemFlag flags;
        ItemFlag2 flags2;
        Gold buy_price;
        Gold sell_price;
        (u32)InventoryType inventory_type;
        AllowedClass allowed_class;
        AllowedRace allowed_race;
        u32 item_level;
        Level32 required_level;
        (u32)Skill required_skill;
        u32 required_skill_rank;
        u32 required_spell;
        u32 required_honor_rank;
        u32 required_city_rank;
        (u32)Faction required_faction;
        u32 required_faction_rank;
        u32 max_count;
        u32 stackable;
        u32 container_slots;
        u32 amount_of_stats;
        ItemStat[amount_of_stats] stats;
        u32 scaling_stats_entry;
        u32 scaling_stats_flag;
        ItemDamageType[2] damages;
        i32 armor;
        i32 holy_resistance;
        i32 fire_resistance;
        i32 nature_resistance;
        i32 frost_resistance;
        i32 shadow_resistance;
        i32 arcane_resistance;
        u32 delay;
        u32 ammo_type;
        f32 ranged_range_modification;
        ItemSpells[5] spells;
        (u32)Bonding bonding;
        CString description;
        u32 page_text;
        (u32)Language language;
        (u32)PageTextMaterial page_text_material;
        u32 start_quest;
        u32 lock_id;
        u32 material;
        (u32)SheatheType sheathe_type;
        u32 random_property;
        u32 random_suffix;
        u32 block;
        (u32)ItemSet item_set;
        u32 max_durability;
        Area area;
        Map map;
        BagFamily bag_family;
        u32 totem_category;
        ItemSocket[3] sockets;
        u32 socket_bonus;
        u32 gem_properties;
        u32 required_disenchant_skill;
        f32 armor_damage_modifier;
        Seconds duration;
        u32 item_limit_category;
        u32 holiday_id;
    }
}
```
### Header

SMSG have a header of 4 bytes.

#### SMSG Header

| Offset | Size / Endianness | Type   | Name   | Description |
| ------ | ----------------- | ------ | ------ | ----------- |
| 0x00   | 2 **OR** 3 / Big           | uint16 **OR** uint16+uint8 | size | Size of the rest of the message including the opcode field but not including the size field. Wrath server messages **can** be 3 bytes. If the first (most significant) size byte has `0x80` set, the header will be 3 bytes, otherwise it is 2.|
| -      | 2 / Little| uint16 | opcode | Opcode that determines which fields the message contains. |

### Body

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 4 / Little | u32 | item |  |  |

Optionally the following fields can be present. This can only be detected by looking at the size of the message.

| Offset | Size / Endianness | Type | Name | Description | Comment |
| ------ | ----------------- | ---- | ---- | ----------- | ------- |
| - | 8 / - | [ItemClassAndSubClass](itemclassandsubclass.md) | class_and_sub_class |  |  |
| - | 4 / Little | u32 | sound_override_sub_class |  | mangosone: new 2.0.3, not exist in wdb cache?<br/>mangosone sets to -1.<br/>azerothcore: < 0: id from ItemSubClass.dbc, used to override weapon sound from actual sub class |
| - | - / - | CString | name1 |  |  |
| - | - / - | CString | name2 |  |  |
| - | - / - | CString | name3 |  |  |
| - | - / - | CString | name4 |  |  |
| - | 4 / Little | u32 | display_id |  | id from ItemDisplayInfo.dbc |
| - | 4 / - | [ItemQuality](itemquality.md) | quality |  |  |
| - | 4 / - | [ItemFlag](itemflag.md) | flags |  |  |
| - | 4 / - | [ItemFlag2](itemflag2.md) | flags2 |  |  |
| - | 4 / Little | Gold | buy_price |  |  |
| - | 4 / Little | Gold | sell_price |  |  |
| - | 4 / - | [InventoryType](inventorytype.md) | inventory_type |  |  |
| - | 4 / - | [AllowedClass](allowedclass.md) | allowed_class |  |  |
| - | 4 / - | [AllowedRace](allowedrace.md) | allowed_race |  |  |
| - | 4 / Little | u32 | item_level |  |  |
| - | 4 / Little | Level32 | required_level |  |  |
| - | 4 / - | [Skill](skill.md) | required_skill |  |  |
| - | 4 / Little | u32 | required_skill_rank |  |  |
| - | 4 / Little | u32 | required_spell |  |  |
| - | 4 / Little | u32 | required_honor_rank |  |  |
| - | 4 / Little | u32 | required_city_rank |  |  |
| - | 4 / - | [Faction](faction.md) | required_faction |  |  |
| - | 4 / Little | u32 | required_faction_rank |  | cmangos/vmangos/mangoszero: send value only if reputation faction id setted ( needed for some items) |
| - | 4 / Little | u32 | max_count |  |  |
| - | 4 / Little | u32 | stackable |  |  |
| - | 4 / Little | u32 | container_slots |  |  |
| - | 4 / Little | u32 | amount_of_stats |  |  |
| - | ? / - | [ItemStat](itemstat.md)[amount_of_stats] | stats |  |  |
| - | 4 / Little | u32 | scaling_stats_entry |  |  |
| - | 4 / Little | u32 | scaling_stats_flag |  |  |
| - | 24 / - | [ItemDamageType](itemdamagetype.md)[2] | damages |  |  |
| - | 4 / Little | i32 | armor |  |  |
| - | 4 / Little | i32 | holy_resistance |  |  |
| - | 4 / Little | i32 | fire_resistance |  |  |
| - | 4 / Little | i32 | nature_resistance |  |  |
| - | 4 / Little | i32 | frost_resistance |  |  |
| - | 4 / Little | i32 | shadow_resistance |  |  |
| - | 4 / Little | i32 | arcane_resistance |  |  |
| - | 4 / Little | u32 | delay |  |  |
| - | 4 / Little | u32 | ammo_type |  |  |
| - | 4 / Little | f32 | ranged_range_modification |  |  |
| - | 120 / - | [ItemSpells](itemspells.md)[5] | spells |  |  |
| - | 4 / - | [Bonding](bonding.md) | bonding |  |  |
| - | - / - | CString | description |  |  |
| - | 4 / Little | u32 | page_text |  |  |
| - | 4 / - | [Language](language.md) | language |  |  |
| - | 4 / - | [PageTextMaterial](pagetextmaterial.md) | page_text_material |  |  |
| - | 4 / Little | u32 | start_quest |  | cmangos/vmangos/mangoszero: id from QuestCache.wdb |
| - | 4 / Little | u32 | lock_id |  |  |
| - | 4 / Little | u32 | material |  | cmangos/vmangos/mangoszero: id from Material.dbc |
| - | 4 / - | [SheatheType](sheathetype.md) | sheathe_type |  |  |
| - | 4 / Little | u32 | random_property |  | cmangos/vmangos/mangoszero: id from ItemRandomProperties.dbc |
| - | 4 / Little | u32 | random_suffix |  |  |
| - | 4 / Little | u32 | block |  |  |
| - | 4 / - | [ItemSet](itemset.md) | item_set |  |  |
| - | 4 / Little | u32 | max_durability |  |  |
| - | 4 / - | [Area](area.md) | area |  |  |
| - | 4 / - | [Map](map.md) | map |  |  |
| - | 4 / - | [BagFamily](bagfamily.md) | bag_family |  |  |
| - | 4 / Little | u32 | totem_category |  | mangosone: id from TotemCategory.dbc |
| - | 24 / - | [ItemSocket](itemsocket.md)[3] | sockets |  |  |
| - | 4 / Little | u32 | socket_bonus |  |  |
| - | 4 / Little | u32 | gem_properties |  |  |
| - | 4 / Little | u32 | required_disenchant_skill |  |  |
| - | 4 / Little | f32 | armor_damage_modifier |  |  |
| - | 4 / Little | Seconds | duration |  | mangosone: added in 2.4.2.8209, duration (seconds) |
| - | 4 / Little | u32 | item_limit_category |  |  |
| - | 4 / Little | u32 | holiday_id |  | mangosone: HolidayId - points to HolidayNames.dbc |

